# MCP Client - AI Agent å¯¹è¯å®¢æˆ·ç«¯

<div align="center">

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.0-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Spring AI](https://img.shields.io/badge/Spring%20AI-1.1.0--M4-blue.svg)](https://spring.io/projects/spring-ai)
[![Java](https://img.shields.io/badge/Java-24-orange.svg)](https://openjdk.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**åŸºäº MCP (Model Context Protocol) çš„æ™ºèƒ½ AI Agent å¯¹è¯å®¢æˆ·ç«¯**

</div>

## ğŸ”— ç›¸å…³é¡¹ç›®

- **[Ledger Server](https://github.com/JamesSmith888/ledger-server)** - ä¸šåŠ¡åç«¯ & MCP Serverï¼Œæä¾›è®°è´¦ä¸šåŠ¡å·¥å…·
- **[LedgerAI Client](https://github.com/JamesSmith888/LedgerAIClient)** - React Native ç§»åŠ¨åº”ç”¨ï¼ŒAI æ™ºèƒ½è®°è´¦ App

## ğŸ“– é¡¹ç›®ç®€ä»‹

MCP Client æ˜¯åŸºäº **Model Context Protocol (MCP)** çš„æ™ºèƒ½ AI Agent å¯¹è¯å®¢æˆ·ç«¯ï¼Œèƒ½å¤Ÿ**è‡ªä¸»æ‰§è¡Œå¤æ‚ä»»åŠ¡**çš„ AI åŠ©æ‰‹ç³»ç»Ÿã€‚

### âœ¨ æ ¸å¿ƒäº®ç‚¹

- ğŸ¤– **AI Agent æ¨¡å¼**: åŸºäº MCP åè®®å®ç°çš„æ™ºèƒ½ä»£ç†ï¼Œå¯è‡ªåŠ¨åˆ†æç”¨æˆ·æ„å›¾å¹¶æ‰§è¡Œå¤šæ­¥éª¤ä»»åŠ¡
- ğŸ”— **MCP å·¥å…·é›†æˆ**: æ— ç¼é›†æˆ MCP Server æä¾›çš„å„ç§å·¥å…·ï¼Œå®ç°ç™»å½•ã€æ³¨å†Œã€è®°è´¦ã€æ•°æ®åˆ†æç­‰åŠŸèƒ½
- ğŸ’¬ **å®æ—¶é€šä¿¡**: åŸºäº WebSocket çš„å®æ—¶åŒå‘é€šä¿¡ï¼Œæ”¯æŒæµå¼å“åº”
- ğŸ§  **ä¼šè¯è®°å¿†**: æ”¯æŒå¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡è®°å¿†ï¼Œæä¾›è¿è´¯çš„å¯¹è¯ä½“éªŒ
- ğŸ¯ **ä»»åŠ¡ç¼–æ’**: æ™ºèƒ½åˆ†è§£å¤æ‚ä»»åŠ¡ä¸ºå¯æ‰§è¡Œçš„å­ä»»åŠ¡ï¼ŒæŒ‰åºæ‰§è¡Œå¹¶æ•´åˆç»“æœ
- ğŸ”§ **å¯æ‰©å±•æ¶æ„**: åŸºäº Spring AI æ¡†æ¶ï¼Œæ˜“äºæ‰©å±•å’Œé›†æˆæ–°çš„ AI æ¨¡å‹

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- Spring Boot 3.5.0
- Spring AI 1.1.0-M4
- Google Gemini AI
- WebSocket (STOMP)
- Spring AI MCP Client
- Maven + Java 24

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å®¢æˆ·ç«¯åº”ç”¨                          â”‚
â”‚            (React Native / Web App)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ WebSocket (STOMP)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MCP Client (æœ¬é¡¹ç›®)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Agent Orchestrator                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚
â”‚  â”‚  â”‚ User Chat  â”‚  â”‚  Work Client â”‚           â”‚  â”‚
â”‚  â”‚  â”‚   Client   â”‚  â”‚              â”‚           â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚
â”‚  â”‚         â”‚                â”‚                    â”‚  â”‚
â”‚  â”‚         â–¼                â–¼                    â”‚  â”‚
â”‚  â”‚   ä»»åŠ¡åˆ†æ        ä»»åŠ¡æ‰§è¡Œ (with Tools)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ MCP Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               MCP Server                             â”‚
â”‚     (Ledger Server - ä¸šåŠ¡å·¥å…·æä¾›è€…)                 â”‚
â”‚  - ç”¨æˆ·è®¤è¯    - è´¦æœ¬ç®¡ç†    - äº¤æ˜“è®°å½•              â”‚
â”‚  - æ•°æ®åˆ†æ    - åˆ†ç±»ç®¡ç†    - ç»Ÿè®¡æŸ¥è¯¢              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®Œæ•´ç³»ç»Ÿæ¶æ„

æœ¬é¡¹ç›®ä¸ [Ledger Server](https://github.com/JamesSmith888/ledger-server) å’Œ [LedgerAI Client](https://github.com/JamesSmith888/LedgerAIClient) ç»„æˆå®Œæ•´çš„ AI æ™ºèƒ½è®°è´¦ç³»ç»Ÿã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. AI Agent æ™ºèƒ½ç¼–æ’

ä¸‰é˜¶æ®µä»»åŠ¡å¤„ç†ï¼šä»»åŠ¡åˆ†æ â†’ ä»»åŠ¡æ‹†è§£ â†’ ä»»åŠ¡æ‰§è¡Œä¸æ•´åˆ

### 2. MCP å·¥å…·è°ƒç”¨

é€šè¿‡ MCP åè®®è°ƒç”¨ [Ledger Server](https://github.com/JamesSmith888/ledger-server) æä¾›çš„è¿œç¨‹å·¥å…·å®Œæˆä¸šåŠ¡æ“ä½œã€‚

### 3. WebSocket å®æ—¶é€šä¿¡

- STOMP åè®®æ¶ˆæ¯ä¼ é€’
- æµå¼å“åº”ï¼Œå®æ—¶å±•ç¤º AI ç”Ÿæˆå†…å®¹
- åŸºäºç”¨æˆ· ID çš„ä¼šè¯ç®¡ç†

### 4. ä¼šè¯è®°å¿†

æ”¯æŒå¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡è®°å¿†ï¼Œæä¾›è¿è´¯çš„å¯¹è¯ä½“éªŒã€‚

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Java 24+
- Maven 3.8+
- MCP Server (ledger-server) è¿è¡Œä¸­
- Google Gemini API Key

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd mcp-client
```

2. **é…ç½®ç¯å¢ƒ**

ç¼–è¾‘ `src/main/resources/application.yml`:

```yaml
spring:
  ai:
    google-genai:
      api-key: ${GOOGLE_GEMINI_API_KEY}  # é…ç½®ä½ çš„ API Key
    mcp:
      client:
        transports:
          ledger-api:
            http:
              url: http://localhost:8082/mcp  # MCP Server åœ°å€
```

3. **å¯åŠ¨ MCP Server**

ç¡®ä¿ [Ledger Server](https://github.com/JamesSmith888/ledger-server) å·²å¯åŠ¨ï¼š
```bash
cd ../ledger-server
mvn spring-boot:run
```

4. **å¯åŠ¨åº”ç”¨**
```bash
mvn clean install
mvn spring-boot:run
```

5. **è®¿é—®æµ‹è¯•é¡µé¢**

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:8080/test-websocket.html`

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

**ç”¨æˆ·è¾“å…¥**: "å¸®æˆ‘è®°ä¸€ç¬”åˆé¤èŠ±è´¹ï¼Œ50å…ƒ"

**ç³»ç»Ÿå¤„ç†**:
1. åˆ†ææ„å›¾ï¼šåˆ›å»ºæ”¯å‡ºè®°å½•
2. æ‹†è§£ä»»åŠ¡ï¼šè°ƒç”¨ `createTransaction` å·¥å…·
3. æ‰§è¡Œå¹¶è¿”å›ï¼š"å·²æˆåŠŸè®°å½•åˆé¤æ”¯å‡º 50 å…ƒ"

## ğŸ”Œ MCP åè®®é›†æˆ

### é…ç½® MCP Client

```yaml
spring:
  ai:
    mcp:
      client:
        transports:
          ledger-api:
            http:
              url: http://localhost:8082/mcp
```

MCP Client è‡ªåŠ¨å‘ç°å¹¶è°ƒç”¨ [Ledger Server](https://github.com/JamesSmith888/ledger-server) æä¾›çš„æ‰€æœ‰å·¥å…·ï¼ˆç”¨æˆ·ç®¡ç†ã€è´¦æœ¬ç®¡ç†ã€äº¤æ˜“è®°å½•ç­‰ï¼‰ã€‚

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
